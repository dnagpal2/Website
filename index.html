<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="Devraj Nagpal - Portfolio">
    <meta property="og:description" content="Explore my projects, skills, and experiences in Software Engineering.">
    <meta property="og:image" content="https://dnagpal2.github.io/Website/images/preview.png">
    <meta property="og:url" content="https://dnagpal2.github.io/Website/">
    <meta property="og:type" content="website">
    <title>Devraj Nagpal - Software Engineer</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css" />
    <style>
        :root {
            /* Foundations */
            --primary: #05070c;
            /* near-black background */
            --navy-light: #0b1220;
            /* deep blue surface */
            --navy-card: #0f1a2e;
            /* cards / panels */

            /* Text */
            --slate: #9aa4b2;
            /* secondary text */
            --light-slate: #e6edf3;
            /* primary text */
            --white: #ffffff;

            /* Accents */
            --secondary: #3b82f6;
            /* BLUE (primary accent) */
            --accent-soft: #60a5fa;
            /* hover / subtle blue */
            --accent-cyan: #64ffda;
            /* motion-only highlight */

            --font-mono: 'SF Mono', 'Fira Code', monospace;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, system-ui, sans-serif;
        }

        body {
            background-color: var(--primary);
            color: var(--slate);
        }

        .skills-group,
        .experience-card,
        .project-card,
        .recommendation-card,
        .contact-form,
        .modal-content {
            background: var(--navy-card);
        }

        .tech-item,
        .skill-tag,
        .pill-link,
        .tech-loop-item {
            color: var(--secondary);
            /* blue */
        }

        .pill-indicator {
            background: var(--secondary);
            /* blue pill */
        }

        .pill-link.is-active,
        .pill-link:hover {
            color: var(--primary);
            /* readable on blue */
        }

        .header {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 150px;
            position: relative;
            overflow: hidden;
            color: white;
            text-align: center;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, rgba(10, 25, 47, 0.7), rgba(10, 25, 47, 0.9));
            z-index: -1;
        }

        .header::after {
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            bottom: 0;
            height: 260px;
            /* controls smoothness */
            background: linear-gradient(to bottom,
                    rgba(5, 7, 12, 0) 0%,
                    #05070c 100%);
            pointer-events: none;
            z-index: 1;
        }

        .header-content {
            max-width: 1000px;
        }

        .hero-avatar {
            width: 220px;
            height: 220px;
            border-radius: 50%;
            object-fit: cover;
            margin: 0 auto 20px;
            border: 2px solid var(--secondary);
            box-shadow: 0 12px 30px rgba(2, 12, 27, 0.6);
        }

        .mono-text {
            font-family: var(--font-mono);
            color: var(--secondary);
            font-size: 1.25rem;
            margin-bottom: 20px;
        }

        .header h1 {
            font-size: 80px;
            color: var(--light-slate);
            margin: 20px 0;
            line-height: 1.1;
        }

        .header h2 {
            font-size: 60px;
            color: var(--slate);
            margin-bottom: 30px;
        }

        .header p {
            font-size: 20px;
            max-width: 540px;
            margin-bottom: 50px;
        }

        nav {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            padding: 15px 30px;
            padding-top: calc(15px + env(safe-area-inset-top));
            padding-left: calc(30px + env(safe-area-inset-left));
            padding-right: calc(30px + env(safe-area-inset-right));
            background: rgba(10, 25, 47, 0.85);
            backdrop-filter: blur(10px);
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .nav.scrolled {
            padding: 15px 50px;
            box-shadow: 0 10px 30px -10px rgba(2, 12, 27, 0.7);
        }

        .nav-links {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            list-style: none;
            gap: 20px;
        }

        .nav-links a {
            color: var(--light-slate);
            text-decoration: none;
            font-family: var(--font-mono);
            font-size: 1.2rem;
            font-weight: bold;
            padding: 10px;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: var(--secondary);
        }

        .section {
            padding: 100px 150px;
        }

        .section-title {
            display: flex;
            align-items: center;
            font-size: 32px;
            color: var(--light-slate);
            margin-bottom: 40px;
        }

        .section-title::before {
            content: "";
            margin-right: 10px;
            width: 40px;
            height: 2px;
            background-color: var(--secondary);
        }

        .section-title a {
            color: inherit;
            text-decoration: none;
        }

        .section-title a:hover {
            color: var(--secondary);
        }

        .folder-section {
            padding-bottom: 40px;
        }

        .folder-wrap {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
        }

        .folder-toggle {
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 0;
        }

        .folder {
            width: 280px;
            height: 170px;
            background: linear-gradient(135deg,
                    #0f1a2e 0%,
                    #0b1220 55%,
                    #05070c 100%);
            border-radius: 14px;
            position: relative;
            border: 1px solid rgba(59, 130, 246, 0.28);
            /* BLUE border */
            box-shadow: 0 20px 30px -15px rgba(2, 12, 27, 0.7);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            perspective: 600px;
        }

        .folder-tab {
            position: absolute;
            top: -18px;
            left: 24px;
            width: 120px;
            height: 36px;
            background: linear-gradient(135deg,
                    #0f1a2e 0%,
                    #0b1220 55%,
                    #05070c 100%);
            border: 1px solid rgba(59, 130, 246, 0.28);
            border-bottom: none;
            border-radius: 10px 10px 0 0;
            z-index: 2;
        }

        .folder-lid {
            position: absolute;
            left: 0;
            right: 0;
            top: 0;
            height: 58%;
            background: linear-gradient(135deg,
                    rgba(59, 130, 246, 0.18),
                    rgba(11, 18, 32, 0.75));
            border-radius: 14px 14px 10px 10px;
            transform-origin: top center;
            transform: rotateX(0deg);
            transition: transform 0.4s ease;
            z-index: 3;
            backface-visibility: hidden;
        }

        .folder-front {
            position: absolute;
            inset: 0;
            border-radius: 14px;
            background: linear-gradient(135deg,
                    rgba(59, 130, 246, 0.08),
                    rgba(11, 18, 32, 0.35));
            z-index: 1;
        }


        .folder-files {
            position: absolute;
            inset: 16px;
            display: grid;
            gap: 8px;
            z-index: 0;
        }

        .folder-file {
            height: 14px;
            border-radius: 6px;
            background: rgba(59, 130, 246, 0.18);
            border: 1px solid rgba(59, 130, 246, 0.28);
            opacity: 0;
            transform: translateY(8px) scale(0.98);
            transition: transform 0.35s ease, opacity 0.35s ease;
        }

        .folder-label {
            position: absolute;
            bottom: 18px;
            left: 18px;
            right: 18px;
            text-align: left;
            color: var(--light-slate);
            font-size: 18px;
            z-index: 4;
        }

        .folder-sub {
            display: block;
            color: var(--slate);
            font-size: 12px;
            margin-top: 4px;
            font-family: var(--font-mono);
        }

        .folder-link {
            width: 2px;
            height: 0;
            background: var(--secondary);
            opacity: 0;
            transition: height 0.3s ease, opacity 0.3s ease;
        }

        .folder-section.open .folder {
            transform: translateY(6px);
            box-shadow: 0 25px 35px -20px rgba(2, 12, 27, 0.7);
            animation: folderPop 0.45s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .folder-section.open .folder-lid {
            transform: rotateX(65deg);
        }

        .folder-section.open .folder-file {
            opacity: 1;
            transform: translateY(-10px) scale(1);
        }

        .folder-section.open .folder-file:nth-child(1) {
            transition-delay: 0.05s;
        }

        .folder-section.open .folder-file:nth-child(2) {
            transition-delay: 0.1s;
        }

        .folder-section.open .folder-file:nth-child(3) {
            transition-delay: 0.15s;
        }

        .folder-section.open .folder-link {
            height: 40px;
            opacity: 1;
            animation: linkGrow 0.35s ease-out;
        }

        .scroll-stack {
            position: relative;
            display: grid;
            gap: 120px;
            padding: 10vh 0 40vh;
        }

        .scroll-stack-card {
            transform-origin: top center;
            will-change: transform, filter;
            backface-visibility: hidden;
            transform-style: preserve-3d;
            transform: translateZ(0);
            position: relative;
            margin: 30px auto;
            max-width: 900px;
            width: 100%;
        }

        .experience-panel {
            max-height: 0;
            opacity: 0;
            overflow: hidden;
            transform: translateY(-8px);
            transition: max-height 0.5s ease, opacity 0.4s ease, transform 0.4s ease;
            pointer-events: none;
        }

        .experience-panel.open {
            max-height: 5000px;
            opacity: 1;
            transform: translateY(0);
            pointer-events: auto;
            overflow: visible;
        }

        .experience-card {
            background: var(--navy-light);
            padding: 32px;
            border-radius: 24px;
            cursor: default;
            transition: box-shadow 0.3s;
            position: relative;
            overflow: hidden;
            will-change: transform, filter;
            transform-origin: center top;
            min-height: 320px;
        }

        .experience-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 2px;
            height: 0;
            background-color: var(--secondary);
            transition: height 0.25s ease;
        }

        .experience-card:hover::before {
            height: 100%;
        }

        .experience-card:hover {
            box-shadow: 0 20px 30px -15px rgba(2, 12, 27, 0.7);
        }

        .experience-section.open .section-title {
            animation: titlePop 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .scroll-stack-end {
            width: 100%;
            height: 1px;
        }


        .experience-card h3 {
            color: var(--light-slate);
            margin-bottom: 10px;
            font-size: 22px;
        }

        .experience-card .role,
        .experience-card .period {
            color: var(--secondary);
            font-family: var(--font-mono);
            font-size: 13px;
        }

        .experience-detail {
            color: var(--light-slate);
            font-size: 14px;
            margin-top: 10px;
        }

        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .tech-item {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            color: var(--secondary);
            font-family: var(--font-mono);
            font-size: 12px;
            padding: 4px 10px;
            border-radius: 999px;
            border: 1px solid rgba(100, 255, 218, 0.2);
        }

        .tech-item i {
            font-size: 12px;
        }

        .company-logo {
            width: 80px;

            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 15px;

        }

        .skills-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
        }

        .skills-group {
            background: var(--navy-light);
            padding: 20px;
            border-radius: 4px;
            border: 1px solid rgba(100, 255, 218, 0.08);
        }

        .skills-group h3 {
            color: var(--light-slate);
            margin-bottom: 12px;
            font-size: 18px;
        }

        .skill-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .skill-tag {
            color: var(--secondary);
            border: 1px solid rgba(100, 255, 218, 0.2);
            border-radius: 999px;
            padding: 4px 10px;
            font-family: var(--font-mono);
            font-size: 12px;
        }

        .skill-item {
            background: var(--navy-light);
            padding: 20px;
            border-radius: 4px;
            text-align: center;
            transition: transform 0.3s, background-color 0.3s;
            cursor: pointer;
        }

        .skill-item:hover {
            transform: translateY(-5px);
            background-color: rgba(100, 255, 218, 0.1);
        }

        .skill-icon {
            font-size: 24px;
            color: var(--secondary);
            margin-bottom: 10px;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 25, 47, 0.95);
            z-index: 1000;
            overflow-y: auto;
        }

        .modal-content {
            background: var(--navy-light);
            margin: 50px auto;
            padding: 40px;
            border-radius: 4px;
            max-width: 800px;
            position: relative;
            animation: modalSlideIn 0.3s ease-out;
            border: 1px solid rgba(100, 255, 218, 0.1);
        }

        .modal-content h3 {
            color: var(--light-slate);
            margin-bottom: 20px;
            font-size: 24px;
        }

        .modal-content ul {
            list-style: none;
        }

        .modal-content li {
            margin-bottom: 15px;
            padding-left: 20px;
            position: relative;
        }

        .modal-content li::before {
            content: '>';
            position: absolute;
            left: 0;
            color: var(--secondary);
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 24px;
            color: var(--light-slate);
            cursor: pointer;
            transition: color 0.3s;
        }

        .close-modal:hover {
            color: var(--secondary);
        }

        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }

        .project-card {
            background: var(--navy-light);
            border-radius: 4px;
            overflow: hidden;
            transition: transform 0.3s;
        }

        .project-card:hover {
            transform: translateY(-5px);
        }

        .project-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .project-info {
            padding: 25px;
        }

        .project-info h3 {
            color: var(--light-slate);
            margin-bottom: 10px;
        }

        .project-info a {
            display: inline-block;
            margin-top: 15px;
            color: var(--secondary);
            text-decoration: none;
            font-family: var(--font-mono);
            font-size: 14px;
        }

        .project-info a:hover {
            text-decoration: underline;
        }

        .contact {
            text-align: center;
            max-width: 600px;
            margin: 0 auto;
        }

        .contact p {
            margin-bottom: 20px;
        }

        .social-links {
            margin: 30px 0;
        }

        .social-links a {
            font-size: 24px;
            margin: 0 15px;
            color: var(--light-slate);
            transition: color 0.3s, transform 0.3s;
            display: inline-block;
        }

        .social-links a:hover {
            color: var(--secondary);
            transform: translateY(-3px);
        }

        .contact-form {
            background: var(--navy-light);
            padding: 30px;
            border-radius: 4px;
            margin-top: 30px;
        }

        .contact-form input,
        .contact-form textarea {
            width: 100%;
            padding: 12px;
            margin-bottom: 20px;
            background: var(--primary);
            border: 1px solid var(--slate);
            border-radius: 4px;
            color: var(--light-slate);
            font-family: var(--font-mono);
        }

        .contact-form button {
            background: transparent;
            color: var(--secondary);
            border: 1px solid var(--secondary);
            padding: 12px 30px;
            border-radius: 4px;
            font-family: var(--font-mono);
            cursor: pointer;
            transition: all 0.3s;
        }

        .contact-form button:hover {
            background: rgba(100, 255, 218, 0.1);
        }

        @keyframes modalSlideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes folderPop {
            0% {
                transform: translateY(0) scale(0.96);
            }

            60% {
                transform: translateY(8px) scale(1.04);
            }

            100% {
                transform: translateY(6px) scale(1);
            }
        }

        @keyframes titlePop {
            0% {
                transform: translateY(6px) scale(0.98);
            }

            70% {
                transform: translateY(-2px) scale(1.02);
            }

            100% {
                transform: translateY(0) scale(1);
            }
        }

        @keyframes linkGrow {
            0% {
                height: 0;
                opacity: 0;
            }

            100% {
                height: 40px;
                opacity: 1;
            }
        }

        @media (max-width: 768px) {
            .header {
                padding: 0 50px;
            }

            .section {
                padding: 80px 50px;
            }

            .header h1 {
                font-size: 40px;
            }

            .header h2 {
                font-size: 30px;
            }
        }

        #intro::after {
            content: "|";
            font-weight: bold;
            opacity: 1;
            animation: blink 0.7s infinite;
        }

        @keyframes blink {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0;
            }
        }


        .titles {
            margin-top: 5px;
            font-family: var(--font-mono);
            font-size: 1.25rem;
            color: var(--secondary);
            border-bottom: 1px solid var(--primary-color);
            display: inline-block;
            padding-bottom: 0.5rem;
            opacity: 0;
            animation: fadeIn 0.5s forwards 1s;
        }

        .text-rotate {
            display: inline-flex;
            flex-wrap: wrap;
            white-space: pre-wrap;
            position: relative;
            font-family: var(--font-mono);
            color: var(--secondary);
        }

        .text-rotate-word {
            display: inline-flex;
        }

        .text-rotate-element {
            display: inline-block;
            transform: translateY(100%);
            opacity: 0;
        }

        .text-rotate-space {
            white-space: pre;
        }

        .typing-line {
            font-size: 1.15rem;
            border-right: 2px solid var(--cursor-color);
            white-space: nowrap;
            overflow: hidden;
            width: 0;
            opacity: 0;
            display: block;
        }

        .line1 {
            width: fit-content;
            animation:
                typing1 2s steps(40, end) 1.5s forwards,
                removeCursor 0.1s 3.5s forwards;
        }

        .line2 {
            width: fit-content;
            animation:
                typing2 2s steps(40, end) 3.5s forwards,
                removeCursor 0.1s 5.5s forwards;
        }

        .line3 {
            width: fit-content;
            animation:
                typing3 2s steps(40, end) 5.5s forwards,
                removeCursor 0.1s 7.5s forwards;
        }

        @keyframes typing1 {
            0% {
                width: 0;
                opacity: 1;
            }

            100% {
                width: 100%;
                opacity: 1;
            }
        }

        @keyframes typing2 {
            0% {
                width: 0;
                opacity: 1;
            }

            100% {
                width: 100%;
                opacity: 1;
            }
        }

        @keyframes typing3 {
            0% {
                width: 0;
                opacity: 1;
            }

            100% {
                width: 100%;
                opacity: 1;
            }
        }

        @keyframes removeCursor {
            to {
                border-right-color: transparent;
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .reachOut {
            font-family: var(--font-mono);
            color: var(--secondary);
        }

        .recommendations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .recommendation-card {
            background: var(--navy-light);
            padding: 30px;
            border-radius: 70px;
            box-shadow: #64ffda;
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
            border: 1px solid rgba(100, 255, 218, 0.1);
        }

        .recommendation-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 30px -15px rgba(2, 12, 27, 0.7);
        }

        .recommender-info {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .recommender-details h3 {
            color: var(--light-slate);
            font-size: 18px;
            margin-bottom: 5px;
        }

        .recommender-details p {
            color: var(--slate);
            font-size: 14px;
            font-family: var(--font-mono);
        }

        .recommendation-content {
            position: relative;
            padding-top: 20px;
        }

        .quote-icon {
            color: var(--secondary);
            font-size: 24px;
            opacity: 0.6;
            margin-bottom: 10px;
        }

        .recommendation-content p {
            color: var(--light-slate);
            font-size: 16px;
            line-height: 1.6;
            font-style: italic;
        }

        @media (max-width: 768px) {
            .recommendations-grid {
                grid-template-columns: 1fr;
            }

            .recommendation-card {
                padding: 20px;
            }
        }

        @media (max-width: 1024px) {
            .titles {
                font-size: 1.1rem;
            }

            .typing-line {
                font-size: 0.9rem;
            }

            .nav {
                padding: 15px 20px;
            }

            .nav-links a {
                font-size: 1rem;
                padding: 8px;
            }
        }

        @media (max-width: 768px) {
            .titles {
                font-size: 1rem;
                margin-top: 5px;
            }

            .typing-line {
                font-size: 0.85rem;
            }

            .nav {
                padding: 10px 15px;
                padding-top: calc(10px + env(safe-area-inset-top));
            }

            .nav-links {
                gap: 12px;
                flex-wrap: wrap;
                justify-content: center;
            }

            .nav-links a {
                font-size: 0.9rem;
                padding: 6px;
            }
        }

        @media (max-width: 480px) {
            .titles {
                font-size: 0.9rem;
                margin-top: 3px;
            }

            .typing-line {
                font-size: 0.8rem;
            }

            .nav {
                padding: 8px 10px;
                padding-top: calc(8px + env(safe-area-inset-top));
            }

            .nav-links {
                gap: 10px;
                flex-direction: column;
                align-items: center;
                width: 100%;
            }

            .nav-links a {
                font-size: 0.8rem;
                padding: 5px;
            }
        }

        /* ================= CARD EJECT ANIMATION ================= */

        .experience-panel.ejecting .scroll-stack-card {
            animation: ejectFromFolder 0.45s cubic-bezier(0.34, 1.56, 0.64, 1) both;
        }

        .experience-panel.ejecting .scroll-stack-card:nth-child(1) {
            animation-delay: 0.05s;
        }

        .experience-panel.ejecting .scroll-stack-card:nth-child(2) {
            animation-delay: 0.10s;
        }

        .experience-panel.ejecting .scroll-stack-card:nth-child(3) {
            animation-delay: 0.15s;
        }

        .experience-panel.ejecting .scroll-stack-card:nth-child(4) {
            animation-delay: 0.20s;
        }

        .experience-panel.ejecting .scroll-stack-card:nth-child(5) {
            animation-delay: 0.25s;
        }

        .experience-panel.ejecting .scroll-stack-card:nth-child(6) {
            animation-delay: 0.30s;
        }

        .experience-panel.ejecting .scroll-stack-card:nth-child(7) {
            animation-delay: 0.35s;
        }

        @keyframes ejectFromFolder {
            0% {
                opacity: 0;
                transform: translateY(-20px) scale(0.96);
            }

            60% {
                opacity: 1;
                transform: translateY(8px) scale(1.03);
            }

            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .pill-nav {
            display: flex;
            justify-content: flex-end;
        }

        .pill-list {
            position: relative;
            display: flex;
            gap: 6px;
            padding: 6px;
            background: rgba(10, 25, 47, 0.9);
            border-radius: 9999px;
        }

        .pill-list li {
            list-style: none;
        }

        .pill-link {
            position: relative;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 10px 18px;
            font-family: var(--font-mono);
            font-size: 14px;
            font-weight: 600;
            text-decoration: none;
            color: var(--secondary);
            border-radius: 9999px;
            z-index: 2;
            transition: color 0.25s ease;
        }

        .pill-link:hover {
            color: #0a192f;
        }

        .pill-indicator {
            position: absolute;
            top: 6px;
            left: 6px;
            height: calc(100% - 12px);
            width: 0;
            background: var(--secondary);
            border-radius: 9999px;
            transition:
                transform 0.45s cubic-bezier(0.34, 1.56, 0.64, 1),
                width 0.45s cubic-bezier(0.34, 1.56, 0.64, 1);
            z-index: 1;
            pointer-events: none;
        }

        .pill-link {
            color: var(--secondary);
            transition: color 0.25s ease;
        }

        /* When pill is on this item */
        .pill-link.is-active {
            color: #0a192f;
            /* dark text on light pill */
        }

        /* Hover should also force dark text */
        .pill-link:hover {
            color: #0a192f;
        }

        .tech-loop-wrapper {
            position: relative;
            overflow: hidden;
            padding: 1.5rem 0;
        }

        .tech-loop {
            width: 100%;
            overflow: hidden;
        }

        .tech-loop::before,
        .tech-loop::after {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            width: 80px;
            z-index: 5;
            pointer-events: none;
        }

        .tech-loop::before {
            left: 0;
            background: linear-gradient(to right, var(--primary), transparent);
        }

        .tech-loop::after {
            right: 0;
            background: linear-gradient(to left, var(--primary), transparent);
        }

        .tech-loop-track {
            display: flex;
            width: max-content;
            will-change: transform;
        }

        .tech-loop-item {
            flex: 0 0 auto;
            font-size: 48px;
            margin-right: 40px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            color: var(--secondary);
            transition: transform 0.3s ease;
        }

        .tech-loop-item:hover {
            transform: scale(1.2);
        }
    </style>

</head>

<body>
    <header class="header">
        <div class="header-content">
            <h5 class="mono-text">Hi, my name is</h5>
            <img src="images/startup_founder.png" alt="Devraj Nagpal portrait" class="hero-avatar">
            <h1>Devraj Nagpal</h1>
            <h3 class="titles">
                <span id="rotating-text" class="text-rotate"></span>
            </h3>
            <div>
                <span class="typing-line line1">I'm a software engineer with a focus on developing intelligent,</span>
                <span class="typing-line line2">AI-driven applications. I specialize in enhancing user
                    engagement,</span>
                <span class="typing-line line3">optimizing data processing, and building scalable systems.</span>
            </div>
        </div>
    </header>
    <nav class="nav pill-nav">
        <ul class="pill-list" id="pillNav">
            <span class="pill-indicator"></span>

            <li><a href="#experience" class="pill-link">Experience</a></li>
            <li><a href="#skills" class="pill-link">Skills</a></li>
            <li><a href="#projects" class="pill-link">Projects</a></li>
            <li><a href="#recommendations" class="pill-link">Recommendations</a></li>
            <li><a href="#contact" class="pill-link">Contact</a></li>
        </ul>
    </nav>
    <section id="experience" class="section experience-section">
        <div class="container">
            <h2 class="section-title"><a href="#experience-folder">Experience</a></h2>
            <div id="experience-folder" class="folder-section">
                <div class="folder-wrap">
                    <button class="folder-toggle" id="folder-toggle" type="button" aria-expanded="false"
                        aria-controls="experience-panel">
                        <div class="folder">
                            <div class="folder-tab"></div>
                            <div class="folder-lid"></div>
                            <div class="folder-files">
                                <span class="folder-file"></span>
                                <span class="folder-file"></span>
                                <span class="folder-file"></span>
                            </div>
                            <div class="folder-front"></div>
                            <div class="folder-label">
                                Experience
                                <span class="folder-sub" id="folder-sub">Click to open</span>
                            </div>
                        </div>
                    </button>
                    <div class="folder-link" aria-hidden="true"></div>
                </div>
            </div>
            <div class="experience-panel" id="experience-panel">
                <div class="scroll-stack" id="experience-stack">
                    <div class="experience-card scroll-stack-card">
                        <img src="images/WSP-Logo-Thumbnail-1200x630.png" alt="WSP Logo" class="company-logo">
                        <h3>WSP</h3>
                        <p class="role">Software Engineer Intern</p>
                        <p class="period">May 2025 - August 2025 | Toronto, ON</p>
                        <p class="experience-detail">Built a project staffing and onboarding platform for engineering
                            teams.</p>
                        <div class="tech-stack">
                            <span class="tech-item"><i class="fas fa-code"></i>TypeScript</span>
                            <span class="tech-item"><i class="fas fa-layer-group"></i>Next.js</span>
                            <span class="tech-item"><i class="fas fa-database"></i>Azure SQL</span>
                            <span class="tech-item"><i class="fas fa-diagram-project"></i>GraphQL</span>
                        </div>
                    </div>
                    <div class="experience-card scroll-stack-card">
                        <img src="images/swimingo.jpg" alt="Swimingo Logo" class="company-logo">
                        <h3>Swimingo</h3>
                        <p class="role">Software Engineer Intern</p>
                        <p class="period">February 2025 - May 2025 | Toronto, ON</p>
                        <p class="experience-detail">Built a timezone-aware scheduling and promotions layer for global
                            bookings.</p>
                        <div class="tech-stack">
                            <span class="tech-item"><i class="fab fa-node-js"></i>Node.js</span>
                            <span class="tech-item"><i class="fas fa-database"></i>Sequelize</span>
                            <span class="tech-item"><i class="fas fa-database"></i>PostgreSQL</span>
                        </div>
                    </div>
                    <div class="experience-card scroll-stack-card">
                        <img src="images/bitlearns_logo.png" alt="Bitlearns Logo" class="company-logo">
                        <h3>Bitlearns</h3>
                        <p class="role">Full Stack Engineer Intern</p>
                        <p class="period">July 2024 - November 2024 | Toronto, ON</p>
                        <p class="experience-detail">Built AI-backed learning features and real-time notifications to
                            boost engagement.</p>
                        <div class="tech-stack">
                            <span class="tech-item"><i class="fab fa-react"></i>React</span>
                            <span class="tech-item"><i class="fab fa-node-js"></i>Node.js</span>
                            <span class="tech-item"><i class="fas fa-code"></i>TypeScript</span>
                            <span class="tech-item"><i class="fas fa-bolt"></i>Socket.io</span>
                        </div>
                    </div>
                    <div class="experience-card scroll-stack-card">
                        <img src="images/meshAI_logo.png" alt="Mesh AI Logo" class="company-logo">
                        <h3>Mesh AI</h3>
                        <p class="role">Software Engineer Intern</p>
                        <p class="period">August 2024 - November 2024 | Toronto, ON</p>
                        <p class="experience-detail">Delivered an LLM-powered SQL assistant with safe text-to-SQL for
                            clinicians.</p>
                        <div class="tech-stack">
                            <span class="tech-item"><i class="fab fa-python"></i>Python</span>
                            <span class="tech-item"><i class="fas fa-link"></i>LangChain</span>
                            <span class="tech-item"><i class="fas fa-cloud"></i>AWS Lambda</span>
                            <span class="tech-item"><i class="fas fa-database"></i>PostgreSQL</span>
                        </div>
                    </div>
                    <div class="experience-card scroll-stack-card">
                        <img src="images/preeminentTech.png" alt="Preeminent Technology Logo" class="company-logo">
                        <h3>Preeminent Technology Inc</h3>
                        <p class="role">Backend Engineer Intern</p>
                        <p class="period">August 2024 - October 2024 | Toronto, ON</p>
                        <p class="experience-detail">Built backend services powering AI-assisted travel booking
                            workflows.</p>
                        <div class="tech-stack">
                            <span class="tech-item"><i class="fas fa-code"></i>.NET</span>
                            <span class="tech-item"><i class="fab fa-node-js"></i>Node.js</span>
                            <span class="tech-item"><i class="fas fa-cloud"></i>Azure</span>
                        </div>
                    </div>
                    <div class="experience-card scroll-stack-card">
                        <img src="images/rapydLinx.png" alt="RAPYD LinX Logo" class="company-logo">
                        <h3>RAPYD LinX</h3>
                        <p class="role">Software Engineer Intern</p>
                        <p class="period">May 2024 - August 2024 | Toronto, ON</p>
                        <p class="experience-detail">Automated sales processing and reporting workflows for the sales
                            team.</p>
                        <div class="tech-stack">
                            <span class="tech-item"><i class="fab fa-python"></i>Python</span>
                            <span class="tech-item"><i class="fas fa-database"></i>SQL</span>
                            <span class="tech-item"><i class="fas fa-desktop"></i>JavaFX</span>
                        </div>
                    </div>
                    <div class="experience-card scroll-stack-card">
                        <img src="images/rocscience.png" alt="Rocscience Logo" class="company-logo">
                        <h3>Rocscience</h3>
                        <p class="role">Software Engineer Intern</p>
                        <p class="period">May 2023 - August 2023 | Toronto, ON</p>
                        <p class="experience-detail">Automated verification for geotechnical builds to speed regression
                            testing.</p>
                        <div class="tech-stack">
                            <span class="tech-item"><i class="fab fa-python"></i>Python</span>
                            <span class="tech-item"><i class="fas fa-gear"></i>Automation</span>
                        </div>
                    </div>
                    <div class="experience-card scroll-stack-card">
                        <img src="images/weBots.png" alt="Western WE-BOTS Logo" class="company-logo">
                        <h3>Western WE-BOTS</h3>
                        <p class="role">Firmware Engineer</p>
                        <p class="period">November 2022 - January 2024 | London, ON</p>
                        <p class="experience-detail">Built CAN/ROS telemetry and firmware for a life-size robot's motion
                            data.</p>
                        <div class="tech-stack">
                            <span class="tech-item"><i class="fas fa-microchip"></i>C++</span>
                            <span class="tech-item"><i class="fas fa-robot"></i>ROS</span>
                            <span class="tech-item"><i class="fas fa-wifi"></i>MQTT</span>
                        </div>
                    </div>
                    <div class="scroll-stack-end"></div>
                </div>
            </div>
        </div>
    </section>
    <section id="skills" class="section">
        <div class="container">
            <h2 class="section-title">Skills</h2>
            <div class="skills-grid">
                <div class="skills-group">
                    <h3>Languages & Frameworks</h3>
                    <div class="skill-tags">
                        <span class="skill-tag">Java</span>
                        <span class="skill-tag">Spring Boot</span>
                        <span class="skill-tag">JavaScript</span>
                        <span class="skill-tag">TypeScript</span>
                        <span class="skill-tag">Node.js</span>
                        <span class="skill-tag">Python</span>
                        <span class="skill-tag">FastAPI</span>
                    </div>
                </div>
                <div class="skills-group">
                    <h3>Data & Storage</h3>
                    <div class="skill-tags">
                        <span class="skill-tag">SQL</span>
                        <span class="skill-tag">PostgreSQL</span>
                        <span class="skill-tag">Azure SQL</span>
                        <span class="skill-tag">MongoDB</span>
                        <span class="skill-tag">Redis</span>
                        <span class="skill-tag">Kafka</span>
                        <span class="skill-tag">Prisma</span>
                    </div>
                </div>
                <div class="skills-group">
                    <h3>AI & ML</h3>
                    <div class="skill-tags">
                        <span class="skill-tag">LLMs</span>
                        <span class="skill-tag">LangChain</span>
                        <span class="skill-tag">RAG</span>
                        <span class="skill-tag">TensorFlow</span>
                        <span class="skill-tag">PyTorch</span>
                    </div>
                </div>
                <div class="skills-group">
                    <h3>Tools & Cloud</h3>
                    <div class="skill-tags">
                        <span class="skill-tag">AWS</span>
                        <span class="skill-tag">GCP</span>
                        <span class="skill-tag">Docker</span>
                        <span class="skill-tag">Jenkins</span>
                        <span class="skill-tag">Git</span>
                        <span class="skill-tag">Jira</span>
                        <span class="skill-tag">Postman</span>
                    </div>
                </div>
            </div>
            <div class="tech-loop-wrapper">
                <div class="tech-loop" id="techLoop">
                    <div class="tech-loop-track">
                        <!-- One sequence (will be duplicated in JS) -->
                        <div class="tech-loop-item" title="Java">
                            <i class="devicon-java-plain"></i>
                        </div>
                        <div class="tech-loop-item" title="Spring Boot">
                            <i class="devicon-spring-plain"></i>
                        </div>
                        <div class="tech-loop-item" title="JavaScript">
                            <i class="devicon-javascript-plain"></i>
                        </div>
                        <div class="tech-loop-item" title="Node.js">
                            <i class="devicon-nodejs-plain"></i>
                        </div>
                        <div class="tech-loop-item" title="Prisma">
                            <i class="devicon-prisma-original"></i>
                        </div>
                        <div class="tech-loop-item" title="TypeScript">
                            <i class="devicon-typescript-plain"></i>
                        </div>
                        <div class="tech-loop-item" title="Nest.js">
                            <i class="devicon-nestjs-original"></i>
                        </div>
                        <div class="tech-loop-item" title="Python">
                            <i class="devicon-python-plain"></i>
                        </div>
                        <div class="tech-loop-item" title="Flask">
                            <i class="devicon-flask-original"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="projects" class="section">
        <div class="container">
            <h2 class="section-title">Projects</h2>
            <div class="projects-grid">
                <div class="project-card">
                    <img src="images/finance.png" alt="Finance Tracker/Stock Predictor" class="project-image">
                    <div class="project-info">
                        <h3>Finance WebApp</h3>
                        <p>Finance Tracker and Stock Predictor using hugging transformers, Node.js and JS</p>
                        <a href="https://financetracker-eohh.onrender.com/" target="_blank">View Project</a>
                    </div>
                </div>
                <div class="project-card">
                    <img src="images/ai_chatbot.png" alt="AI Chatbot Project" class="project-image">
                    <div class="project-info">
                        <h3>AI Chatbot</h3>
                        <p>Interactive chatbot using LLMs, Node.js, and Streamlit</p>
                        <a href="https://chat-bot-dnagpal.streamlit.app/" target="_blank">View Project</a>
                    </div>
                </div>
                <div class="project-card">
                    <img src="images/path_finder.png" alt="Path Finder Project" class="project-image">
                    <div class="project-info">
                        <h3>Path Finder & Maze Generator</h3>
                        <p>Interactive pathfinding visualization tool</p>
                        <a href="https://dnagpal2.github.io/Path-Finder--Maze-Generator/" target="_blank">View
                            Project</a>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section id="recommendations" class="section">
        <div class="container">
            <h2 class="section-title">Recommendations</h2>
            <div class="recommendations-grid">
                <div class="recommendation-card">
                    <div class="recommender-info">
                        <div class="recommender-details">
                            <h3>Joaquin Berrios</h3>
                            <p>Full Stack Developer @ Mesh AI</p>
                        </div>
                    </div>
                    <div class="recommendation-content">
                        <i class="fas fa-quote-left quote-icon"></i>
                        <p>"It was a pleasure working with Devraj on the same team. His knowledge and skills were of
                            great value during the development of an LLM Analytics Agent Tool in Python, utilizing the
                            Langchain library. He consistently proposed solutions to challenges and sought ways to
                            improve the product. During and outside of meetings Devraj always had great communication
                            with everyone. A great addition to the team."</p>
                    </div>
                </div>

                <div class="recommendation-card">
                    <div class="recommender-info">
                        <div class="recommender-details">
                            <h3>Eduardo Benetti</h3>
                            <p>Co-Founder @ Bitlearns</p>
                        </div>
                    </div>
                    <div class="recommendation-content">
                        <i class="fas fa-quote-left quote-icon"></i>
                        <p>"I had the pleasure of working with Devraj, who has been a crucial contributor to the
                            development of Bitlearns as a full stack software engineer. Devraj's versatility has allowed
                            him to excel in several areas of the product, playing a significant role in its progress.
                            What stands out the most about him is his relentless eagerness to learn. He's always up for
                            new challenges and constantly seeking opportunities to expand his technical knowledge. His
                            openness to learning and his willingness to tackle new tasks head-on make him an exceptional
                            asset. Devraj is not only technically strong but also collaborative, making him a great fit
                            for any team environment. I have no doubt he would be a valuable resource for any company
                            looking for someone passionate about tech development and eager to grow. Please feel free to
                            reach out if you'd like more information."
                        </p>
                    </div>
                </div>
                <div class="recommendation-card">
                    <div class="recommender-info">
                        <div class="recommender-details">
                            <h3>Ethan Heming</h3>
                            <p>CTO/Software Developer @ Mesh AI</p>
                        </div>
                    </div>
                    <div class="recommendation-content">
                        <i class="fas fa-quote-left quote-icon"></i>
                        <p>"Devraj worked well with a small team to identify a feasible LLM strategy to tackle
                            complex customer queries and use them to build complex Postgres statements. He communicated
                            ideas easily and brought workable hypotheses to the table. With the others on his team, he
                            built python scripts to access and leverage several services and libraries that enabled the
                            project to succeed."</p>

                    </div>
                </div>
            </div>
        </div>
    </section>
    <section id="contact" class="section contact">
        <div class="container">
            <h2 class="section-title">Contact Me</h2>

            <div class="contact-form">
                <h3 class="reachOut">Reach Out!</h3>
                <form id="contactForm" action="mailto:devraj.nagpal@gmail.com" method="post" enctype="text/plain"
                    onsubmit="clearForm()">
                    <input type="text" name="name" placeholder="Your Name" required>
                    <input type="email" name="email" placeholder="Your Email" required>
                    <textarea name="message" rows="5" placeholder="Your Message" required></textarea>
                    <button type="submit">Send Message</button>
                </form>
            </div>
            <div class="social-links">
                <a href="https://linkedin.com/in/devrajnagpal" target="_blank"><i class="fab fa-linkedin"></i></a>
                <a href="https://github.com/dnagpal2" target="_blank"><i class="fab fa-github"></i></a>
                <a href="mailto:devraj.nagpal@gmail.com" target="_blank"><i class="fa-solid fa-envelope"></i></a>
            </div>
            <p>Based in - Toronto, ON</p>
            <p>Developed by Devraj Nagpal <i class="fa-regular fa-copyright"></i></p>

        </div>
    </section>

    <script>
        /* ================= Intersection Observer (unchanged) ================= */

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = 1;
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        });

        document.querySelectorAll(
            '.skills-group, .project-card, .recommendation-card'
        ).forEach((el) => {
            el.style.opacity = 0;
            el.style.transform = 'translateY(20px)';
            el.style.transition = 'all 0.6s ease-out';
            observer.observe(el);
        });

        /* ================= Folder + Stack References ================= */

        const folderSection = document.getElementById('experience-folder');
        const folderToggle = document.getElementById('folder-toggle');
        const experiencePanel = document.getElementById('experience-panel');
        const experienceSection = document.getElementById('experience');
        const folderSub = document.getElementById('folder-sub');

        const stack = document.getElementById('experience-stack');
        const cards = [...stack.querySelectorAll('.scroll-stack-card')];
        const endMarker = stack.querySelector('.scroll-stack-end');

        /* ================= Stack Config ================= */

        const STACK = {
            stackStart: 0.2,
            scaleEnd: 0.1,
            baseScale: 0.85,
            scaleStep: 0.03,
            gap: 30
        };

        let stackConfig = { ...STACK };

        /* ================= Stack State ================= */

        let stackEnabled = false;
        let stackData = [];
        let ticking = false;

        const clamp01 = v => Math.min(1, Math.max(0, v));

        /* ================= Measure (ONCE) ================= */

        function refreshStackConfig() {
            const isSmall = window.innerWidth <= 768;
            stackConfig = {
                ...STACK,
                stackStart: isSmall ? 0.32 : STACK.stackStart,
                scaleEnd: isSmall ? 0.16 : STACK.scaleEnd,
                baseScale: isSmall ? 0.9 : STACK.baseScale,
                gap: isSmall ? 20 : STACK.gap
            };
        }

        function measureStack() {
            refreshStackConfig();
            const vh = window.innerHeight;
            const endTop = endMarker.getBoundingClientRect().top + window.scrollY;

            stackData = cards.map((card, i) => {
                const top = card.getBoundingClientRect().top + window.scrollY;
                const start = top - vh * stackConfig.stackStart - i * stackConfig.gap;
                const end = top - vh * stackConfig.scaleEnd;
                const pinRaw = endTop - vh / 2;
                const pin = Math.max(pinRaw, start + vh * 0.6);

                return {
                    card,
                    i,
                    start,
                    end,
                    pin
                };
            });
        }

        /* ================= Update (PURE MATH) ================= */

        function updateStack() {
            const y = window.scrollY;

            for (const d of stackData) {
                const p = clamp01((y - d.start) / (d.end - d.start));
                const scale =
                    1 - p * (1 - (stackConfig.baseScale + d.i * stackConfig.scaleStep));

                let ty = 0;
                if (y > d.start && y < d.pin) ty = y - d.start;
                else if (y >= d.pin) ty = d.pin - d.start;

                d.card.style.transform =
                    `translate3d(0, ${ty}px, 0) scale(${scale})`;
            }
        }

        /* ================= RAF Scroll ================= */

        function onScroll() {
            if (!stackEnabled || ticking) return;
            ticking = true;
            requestAnimationFrame(() => {
                updateStack();
                ticking = false;
            });
        }

        /* ================= Open / Close Experience ================= */

        function setExperienceOpen(isOpen, options = {}) {
            folderSection.classList.toggle('open', isOpen);
            experiencePanel.classList.toggle('open', isOpen);
            experienceSection.classList.toggle('open', isOpen);
            folderToggle.setAttribute('aria-expanded', isOpen ? 'true' : 'false');

            if (folderSub) {
                folderSub.textContent = isOpen ? 'Click to close' : 'Click to open';
            }

            if (isOpen && options.scroll) {
                setTimeout(() => {
                    const top =
                        experiencePanel.getBoundingClientRect().top +
                        window.scrollY - 40;
                    window.scrollTo({ top, behavior: 'smooth' });
                }, 120);
            }

            if (isOpen) {
                // Phase 2: cards eject from folder
                experiencePanel.classList.add('ejecting');

                setTimeout(() => {
                    experiencePanel.classList.remove('ejecting');

                    // Phase 3: enable scroll stack
                    stackEnabled = true;
                    measureStack();
                    updateStack();
                }, 600); // slightly longer than eject animation
            } else {
                stackEnabled = false;
                cards.forEach(c => (c.style.transform = ''));
            }
        }

        /* ================= Events ================= */

        folderToggle.addEventListener('click', () => {
            const open = experiencePanel.classList.contains('open');
            setExperienceOpen(!open, { scroll: !open });
        });

        window.addEventListener('scroll', onScroll, { passive: true });
        window.addEventListener('touchmove', onScroll, { passive: true });
        window.addEventListener('resize', () => stackEnabled && measureStack());
        window.addEventListener('load', () => stackEnabled && measureStack());

        /* ================= Nav Scroll ================= */

        window.addEventListener('scroll', () => {
            document.querySelector('.nav')
                .classList.toggle('scrolled', window.scrollY > 100);
        });

        /* ================= Contact Reset ================= */

        function clearForm() {
            setTimeout(() => {
                document.getElementById('contactForm').reset();
            }, 100);
        }
        const ROTATING_TEXTS = [
            'Software Engineer',
            'Full-Stack Engineer',
            'Backend Engineer',
            'One Engineer'
        ];

        const rotatingRoot = document.getElementById('rotating-text');

        const ROTATION_INTERVAL = 3000;
        const STAGGER_DURATION = 25;
        const SPRING_EASE = 'cubic-bezier(0.34, 1.56, 0.64, 1)';

        let currentIndex = 0;
        let currentNodes = [];
        let isAnimating = false;

        function splitCharacters(text) {
            if (window.Intl && Intl.Segmenter) {
                const segmenter = new Intl.Segmenter('en', { granularity: 'grapheme' });
                return Array.from(segmenter.segment(text), s => s.segment);
            }
            return Array.from(text);
        }

        function clearWithExit(onComplete) {
            if (!currentNodes.length) {
                onComplete();
                return;
            }

            currentNodes.forEach((node, i) => {
                const delay = i * STAGGER_DURATION;
                node.style.transition =
                    `transform 0.45s ${SPRING_EASE} ${delay}ms, opacity 0.3s ease ${delay}ms`;
                node.style.transform = 'translateY(-120%)';
                node.style.opacity = '0';
            });

            const totalExitTime =
                450 + currentNodes.length * STAGGER_DURATION;

            setTimeout(() => {
                rotatingRoot.innerHTML = '';
                currentNodes = [];
                onComplete();
            }, totalExitTime);
        }

        function renderEnter(text) {
            const words = text.split(' ');
            let charIndex = 0;

            words.forEach((word, wIdx) => {
                const wordSpan = document.createElement('span');
                wordSpan.className = 'text-rotate-word';

                splitCharacters(word).forEach(char => {
                    const charSpan = document.createElement('span');
                    charSpan.className = 'text-rotate-element';
                    charSpan.textContent = char;

                    const delay = charIndex * STAGGER_DURATION;
                    charSpan.style.transition =
                        `transform 0.55s ${SPRING_EASE} ${delay}ms, opacity 0.35s ease ${delay}ms`;

                    wordSpan.appendChild(charSpan);
                    currentNodes.push(charSpan);
                    charIndex++;
                });

                rotatingRoot.appendChild(wordSpan);

                if (wIdx !== words.length - 1) {
                    const space = document.createElement('span');
                    space.className = 'text-rotate-space';
                    space.textContent = ' ';
                    rotatingRoot.appendChild(space);
                }
            });

            // force layout
            rotatingRoot.getBoundingClientRect();

            currentNodes.forEach(node => {
                node.style.transform = 'translateY(0)';
                node.style.opacity = '1';
            });
        }

        function rotateText() {
            if (isAnimating) return;
            isAnimating = true;

            clearWithExit(() => {
                renderEnter(ROTATING_TEXTS[currentIndex]);
                currentIndex = (currentIndex + 1) % ROTATING_TEXTS.length;
                isAnimating = false;
            });
        }

        // initial render
        renderEnter(ROTATING_TEXTS[currentIndex++]);

        // interval
        setInterval(rotateText, ROTATION_INTERVAL);

        const pillNav = document.getElementById('pillNav');
        const pillIndicator = pillNav.querySelector('.pill-indicator');
        const pillLinks = pillNav.querySelectorAll('.pill-link');

        function movePill(target) {
            const rect = target.getBoundingClientRect();
            const parentRect = pillNav.getBoundingClientRect();

            const x = rect.left - parentRect.left;
            const width = rect.width;

            pillIndicator.style.width = `${width}px`;
            pillIndicator.style.transform = `translateX(${x}px)`;

            //  text color fix
            pillLinks.forEach(link => link.classList.remove('is-active'));
            target.classList.add('is-active');
        }

        // hover behavior
        pillLinks.forEach(link => {
            link.addEventListener('mouseenter', () => movePill(link));
        });

        // set active based on scroll
        function setActivePill() {
            let active = pillLinks[0];

            pillLinks.forEach(link => {
                const section = document.querySelector(link.getAttribute('href'));
                if (!section) return;

                const rect = section.getBoundingClientRect();
                if (rect.top <= 120 && rect.bottom > 120) {
                    active = link;
                }
            });

            movePill(active);
        }

        // init
        window.addEventListener('load', setActivePill);
        window.addEventListener('resize', setActivePill);
        window.addEventListener('scroll', setActivePill);

        const loop = document.getElementById('techLoop');
        const track = loop.querySelector('.tech-loop-track');

        let offset = 0;
        let speed = 60; // px/sec
        let isHovered = false;
        let lastTime = null;

        // duplicate content for infinite loop
        function duplicateTrack() {
            const contentWidth = track.scrollWidth;
            while (track.scrollWidth < loop.offsetWidth * 2) {
                track.innerHTML += track.innerHTML;
            }
        }
        duplicateTrack();

        function animate(time) {
            if (!lastTime) lastTime = time;
            const delta = (time - lastTime) / 1000;
            lastTime = time;

            const targetSpeed = isHovered ? 20 : speed;
            offset += targetSpeed * delta;

            const resetPoint = track.scrollWidth / 2;
            if (offset >= resetPoint) offset = 0;

            track.style.transform = `translate3d(${-offset}px, 0, 0)`;
            requestAnimationFrame(animate);
        }

        requestAnimationFrame(animate);

        // hover slow-down
        loop.addEventListener('mouseenter', () => {
            isHovered = true;
        });
        loop.addEventListener('mouseleave', () => {
            isHovered = false;
        });
    </script>
</body>

</html>